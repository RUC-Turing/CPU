# 带有调试输出的 Mars

为了方便测试你的 CPU 实现的正确性，以及定位出错位置，我们可以使用由 [t123yh](https://github.com/t123yh) 修改的[带有调试输出的 Mars](/assets/MarsTrace.jar)。

参考 Mars 的[命令行用法](mars.md#命令行用法)，使用该版本的 Mars 执行时，Mars 会在每次对寄存器或内存进行**写入**操作时输出一行信息，该信息包含：

* 当前指令的 PC 值
* 被写入的寄存器编号（包括 0 号寄存器，即使写入不会生效）/ 内存地址
* 被写入的值

例如：

```
@00003000: $31 <= 00003000
@00003004: $ 2 <= 00000000
@00003008: $ 2 <= 00000000
@0000300c: $ 0 <= 00030000
@00003010: $ 0 <= 00000000
@00003014: $ 1 <= 00040000
@00003018: *00000004 <= 00003000
@0000301c: $ 1 <= 00006000
@00003020: *00000008 <= 00003000
@00003024: $ 1 <= 00003000
```

在你的 CPU 实现中加入同样格式的输出信息，使用文本比较工具检查两者的输出是否一致，即可判断你的 CPU 实现是否正确运行了某个 MIPS 汇编程序。如果不一致，第一个不一致的行即为你的程序出错的位置。
