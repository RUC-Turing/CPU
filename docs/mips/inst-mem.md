# 访存类指令

对于所有的访存类指令，内存地址的计算方式为，将寄存器的值与偏移量（带符号扩展到 32 位）相加作为内存地址。

## 加载

### `LW` 对其加载

* **类型** I 型
* **Verilog 表达式** `32'b100011_????????????????????_??????`
* **编码**
    * `op = 100011`
    * `rs` 存有基址的寄存器
    * `rt` 用于写入加载结果的寄存器
    * `imme` 偏移量

从计算后的内存地址（忽略内存地址的低 2 位）中加载一个字（32 位），写入到寄存器中。

### `LH` 带符号非对其加载半字

* **类型** I 型
* **Verilog 表达式** `32'b100001_????????????????????_??????`
* **编码**
    * `op = 100001`
    * `rs` 存有基址的寄存器
    * `rt` 用于写入加载结果的寄存器
    * `imme` 偏移量

从计算后的内存地址（忽略内存地址的低 1 位）中加载半字（16 位）并带符号扩展，写入到寄存器中。

### `LHU` 无符号非对其加载半字

* **类型** I 型
* **Verilog 表达式** `32'b100101_????????????????????_??????`
* **编码**
    * `op = 100101`
    * `rs` 存有基址的寄存器
    * `rt` 用于写入加载结果的寄存器
    * `imme` 偏移量

从计算后的内存地址（忽略内存地址的低 1 位）中加载半字（16 位）并无符号扩展，写入到寄存器中。

### `LB` 带符号非对其加载字节

* **类型** I 型
* **Verilog 表达式** `32'b100000_????????????????????_??????`
* **编码**
    * `op = 100000`
    * `rs` 存有基址的寄存器
    * `rt` 用于写入加载结果的寄存器
    * `imme` 偏移量

从计算后的内存地址中加载一个字节（8 位）并带符号扩展，写入到寄存器中。

### `LBU` 无符号非对其加载字节

* **类型** I 型
* **Verilog 表达式** `32'b100100_????????????????????_??????`
* **编码**
    * `op = 100100`
    * `rs` 存有基址的寄存器
    * `rt` 用于写入加载结果的寄存器
    * `imme` 偏移量

从计算后的内存地址中加载一个字节（8 位）并无符号扩展，写入到寄存器中。

## 存储

对于非对齐存储，不改变内存地址所在字的其他字节的值。

### `SW` 对其存储

* **类型** I 型
* **Verilog 表达式** `32'b101011_????????????????????_??????`
* **编码**
    * `op = 101011`
    * `rs` 存有基址的寄存器
    * `rt` 存有需被存储的数据的寄存器
    * `imme` 偏移量

将寄存器的值（32 位）写入到计算后的内存地址（忽略内存地址的低 2 位）中。

### `SH` 非对其存储半字

* **类型** I 型
* **Verilog 表达式** `32'b101001_????????????????????_??????`
* **编码**
    * `op = 101001`
    * `rs` 存有基址的寄存器
    * `rt` 存有需被存储的数据的寄存器
    * `imme` 偏移量

将寄存器的值（低 16 位）写入到计算后的内存地址（忽略内存地址的低 1 位）中。

### `SH` 非对其存储字节

* **类型** I 型
* **Verilog 表达式** `32'b101000_????????????????????_??????`
* **编码**
    * `op = 101000`
    * `rs` 存有基址的寄存器
    * `rt` 存有需被存储的数据的寄存器
    * `imme` 偏移量

将寄存器的值（低 8 位）写入到计算后的内存地址中。
